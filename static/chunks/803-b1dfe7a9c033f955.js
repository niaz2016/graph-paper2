"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[803],{4426:function(t,n,e){var o=function(t,n){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},i=function(){return(i=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var a=e(2265),r="kvfysmfp",s="ufhsfnkm",u=".".concat(r,"{overflow:hidden;touch-action:none}.").concat(s,"{transform-origin: 0 0}"),c="undefined"==typeof window,l=function(){return!c&&("ontouchstart"in window||navigator.maxTouchPoints>0)},p=Math.min,f=Math.max;function h(t){var n=t.containerDimension,e=t.childDimension,o=t.padding,i=t.centerContained,a=e-n;return a+2*o<=0&&i?[a/2,a/2]:[p(a+o,0)-o,f(0,a+o)]}var d=function(t,n){return n?"".concat(t," ").concat(n):t},m=Math.abs,v=Math.min,_=Math.sqrt,g="undefined"==typeof window,y=!g&&/(Mac)/i.test(navigator.platform),S=function(t){return"drag"===t},b=function(t){return"zoom"===t},w=function(t){t.stopPropagation(),t.preventDefault()},x=function(t,n){var e=t.x-n.x,o=t.y-n.y;return _(e*e+o*o)},T=function(t,n){var e=x(t[0],t[1]);return x(n[0],n[1])/e},C=function(t){return-Math.cos(t*Math.PI)/2+.5},P=function(t){return{x:t.pageX,y:t.pageY}},O=function(t){return Array.from(t).map(P)},z=function(t,n){return t+n},E=function(t,n,e){return e<t?t:e>n?n:e},D=function(t){return!(t.ctrlKey||t.metaKey)},Y=function(t){if(t){var n=t.offsetWidth,e=t.offsetHeight;if(n&&e)return{width:n,height:e};var o=getComputedStyle(t),i=parseFloat(o.width),a=parseFloat(o.height);if(a&&i)return{width:i,height:a}}return{width:0,height:0}},F=function(){},I={x:0,y:0};!function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n._prevDragMovePoint=null,n._containerObserver=null,n._fingers=0,n._firstMove=!0,n._initialOffset=i({},I),n._interaction=null,n._isDoubleTap=!1,n._isOffsetsSet=!1,n._lastDragPosition=null,n._lastScale=1,n._lastTouchStart=0,n._lastZoomCenter=null,n._listenMouseMove=!1,n._nthZoom=0,n._offset=i({},I),n._startOffset=i({},I),n._startTouches=null,n._updatePlaned=!1,n._wheelTimeOut=null,n._zoomFactor=1,n._initialZoomFactor=1,n._draggingPoint=i({},I),n._ignoreNextClick=!1,n._containerRef=(0,a.createRef)(),n._handleClick=function(t){n._ignoreNextClick&&(n._ignoreNextClick=!1,t.stopPropagation())},n._onResize=function(){var t;(null===(t=n._containerRef)||void 0===t?void 0:t.current)&&(n._updateInitialZoomFactor(),n._setupOffsets(),n._update())},n._handlerOnTouchEnd=n._handlerIfEnable(function(t){n._fingers=t.touches.length,n.props.shouldCancelHandledTouchEndEvents&&(b(n._interaction)||S(n._interaction)&&(n._startOffset.x!==n._offset.x||n._startOffset.y!==n._offset.y))&&w(t),S(n._interaction)&&!n._enoughToDrag()&&n._handleClick(t),n._updateInteraction(t)}),n._handlerOnTouchStart=n._handlerIfEnable(function(t){n._firstMove=!0,n._fingers=t.touches.length,n._detectDoubleTap(t)}),n._handlerOnTouchMove=n._handlerIfEnable(function(t){n._isDoubleTap||(n._collectInertia(t),n._firstMove?(n._updateInteraction(t),n._interaction&&w(t),n._startOffset=i({},n._offset),n._startTouches=O(t.touches)):(b(n._interaction)?n._startTouches&&2===n._startTouches.length&&2===t.touches.length&&n._handleZoom(t,T(n._startTouches,O(t.touches))):S(n._interaction)&&n._handleDrag(t),n._interaction&&(w(t),n._update())),n._firstMove=!1)}),n._handlerWheel=function(t){if(!n.props.shouldInterceptWheel(t)){w(t);var e=t.pageX,o=t.pageY,i=t.deltaY,a=t.deltaMode,r=1;(y&&t.ctrlKey||1===a)&&(r=15);var s=n._getOffsetByFirstTouch({touches:[{pageX:e,pageY:o}]}),u=i*r;n._stopAnimation(),n._scaleTo(n._zoomFactor-u/n.props.wheelScaleFactor,s),n._update(),clearTimeout(n._wheelTimeOut),n._wheelTimeOut=setTimeout(function(){return n._sanitize()},100)}},n._handlers=n.props.isTouch()?[["touchstart",n._handlerOnTouchStart],["touchend",n._handlerOnTouchEnd],["touchmove",n._handlerOnTouchMove]]:[["mousemove",n.simulate(n._handlerOnTouchMove),n.props._document],["mouseup",n.simulate(n._handlerOnTouchEnd),n.props._document],["mousedown",n.simulate(n._handlerOnTouchStart)],["click",n._handleClick],["wheel",n._handlerWheel]],n}!function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n.prototype._handleDragStart=function(t){this._ignoreNextClick=!0,this.props.onDragStart(),this._stopAnimation(),this._resetInertia(),this._lastDragPosition=null,this._hasInteraction=!0,this._draggingPoint=this._offset,this._handleDrag(t)},n.prototype._handleDrag=function(t){var n=this._getOffsetByFirstTouch(t);this._enoughToDrag()?this._drag(n,this._lastDragPosition):this._virtualDrag(n,this._lastDragPosition),this._offset=this._sanitizeOffset(this._offset),this._lastDragPosition=n},n.prototype._resetInertia=function(){this._velocity=null,this._prevDragMovePoint=null},n.prototype._realizeInertia=function(){var t=this,n=this.props,e=n.inertiaFriction;if(n.inertia&&this._velocity){var o=this._velocity,a=o.x,r=o.y;(a||r)&&(this._stopAnimation(),this._resetInertia(),this._animate(function(){if(a*=e,r*=e,!a&&!r)return t._stopAnimation();var n,o=i({},t._offset);if(t._addOffset({x:a,y:r}),t._offset=t._sanitizeOffset(t._offset),n=t._offset,o.x===n.x&&o.y===n.y)return t._stopAnimation();t._update({isAnimation:!0})},{duration:9999}))}},n.prototype._collectInertia=function(t){var n=t.touches;if(this.props.inertia){var e=O(n)[0],o=this._prevDragMovePoint;o&&(this._velocity={x:o.x-e.x,y:o.y-e.y}),this._prevDragMovePoint=e}},n.prototype._handleDragEnd=function(){this.props.onDragEnd(),this._end(),this._realizeInertia()},n.prototype._handleZoomStart=function(){this.props.onZoomStart(),this._stopAnimation(),this._lastScale=1,this._nthZoom=0,this._lastZoomCenter=null,this._hasInteraction=!0},n.prototype._handleZoom=function(t,n){var e,o={x:(e=this._getOffsetTouches(t)).map(function(t){return t.x}).reduce(z,0)/e.length,y:e.map(function(t){return t.y}).reduce(z,0)/e.length},i=n/this._lastScale;this._lastScale=n,this._nthZoom+=1,this._nthZoom>3&&(this._scale(i,o),this._drag(o,this._lastZoomCenter),this.props.enforceBoundsDuringZoom&&(this._offset=this._sanitizeOffset(this._offset))),this._lastZoomCenter=o},n.prototype._handleZoomEnd=function(){this.props.onZoomEnd(),this._end()},n.prototype._handleDoubleTap=function(t){var n=this;if(!this._hasInteraction&&0!==this.props.tapZoomFactor){var e=this.props.doubleTapZoomOutOnMaxScale&&this._zoomFactor===this.props.maxZoom||this.props.doubleTapToggleZoom&&this._zoomFactor>1;this.props.onDoubleTap(),this._ignoreNextClick=!0;var o=this._zoomFactor+this.props.tapZoomFactor,i=this._zoomFactor,a=this._getOffsetByFirstTouch(t);this._isDoubleTap=!0,i>o&&(a=this._getCurrentZoomCenter()),e?this._zoomOutAnimation():this._animate(function(t){n._scaleTo(i+t*(o-i),a)})}},n.prototype._computeInitialOffset=function(){var t=this._getContainerRect(),n=this._getChildSize(),e=n.width,o=n.height,i=-m(e*this._getInitialZoomFactor()-t.width)/2,a=-m(o*this._getInitialZoomFactor()-t.height)/2;this._initialOffset={x:i,y:a}},n.prototype._resetOffset=function(){this._offset=i({},this._initialOffset)},n.prototype._setupOffsets=function(){this.props.setOffsetsOnce&&this._isOffsetsSet||(this._isOffsetsSet=!0,this._computeInitialOffset(),this._resetOffset())},n.prototype._sanitizeOffset=function(t){var n=this._getContainerRect(),e=this._getChildSize(),o=e.width,i=e.height,a=o*this._getInitialZoomFactor()*this._zoomFactor,r=i*this._getInitialZoomFactor()*this._zoomFactor,s=h({containerDimension:n.width,childDimension:a,padding:this.props.horizontalPadding,centerContained:this.props.centerContained}),u=s[0],c=s[1],l=h({containerDimension:n.height,childDimension:r,padding:this.props.verticalPadding,centerContained:this.props.centerContained}),p=l[0],f=l[1];return{x:E(u,c,t.x),y:E(p,f,t.y)}},n.prototype.alignCenter=function(t){var n=this,e=i({duration:250,animated:!0},t),o=e.x,a=e.y,r=e.scale,s=e.animated,u=e.duration,c=o*this._initialZoomFactor,l=a*this._initialZoomFactor,p=this._zoomFactor,f=i({},this._offset),h=this._getContainerRect(),d={x:h.width/2,y:h.height/2};if(this._zoomFactor=1,this._offset={x:-(d.x-c),y:-(d.y-l)},this._scaleTo(r,d),this._stopAnimation(),!s)return this._update();var m=this._zoomFactor-p,v={x:this._offset.x-f.x,y:this._offset.y-f.y};this._zoomFactor=p,this._offset=i({},f),this._animate(function(t){var e=f.x+v.x*t,o=f.y+v.y*t;n._zoomFactor=p+m*t,n._offset=n._sanitizeOffset({x:e,y:o}),n._update()},{callback:function(){return n._sanitize()},duration:u})},n.prototype.scaleTo=function(t){var n=this,e=i({duration:250,animated:!0},t),o=e.x,a=e.y,r=e.scale,s=e.animated,u=e.duration,c=this._zoomFactor,l=i({},this._offset);if(this._zoomFactor=1,this._offset={x:0,y:0},this._scaleTo(r,{x:o,y:a}),this._stopAnimation(),!s)return this._update();var p=this._zoomFactor-c,f={x:this._offset.x-l.x,y:this._offset.y-l.y};this._zoomFactor=c,this._offset=i({},l),this._animate(function(t){var e=l.x+f.x*t,o=l.y+f.y*t;n._zoomFactor=c+p*t,n._offset={x:e,y:o},n._update()},{callback:function(){return n._sanitize()},duration:u})},n.prototype._scaleTo=function(t,n){this._scale(t/this._zoomFactor,n),this._offset=this._sanitizeOffset(this._offset)},n.prototype._scale=function(t,n){t=this._scaleZoomFactor(t),this._addOffset({x:(t-1)*(n.x+this._offset.x),y:(t-1)*(n.y+this._offset.y)}),this.props.onZoomUpdate()},n.prototype._scaleZoomFactor=function(t){var n=this._zoomFactor;return this._zoomFactor*=t,this._zoomFactor=E(this.props.minZoom,this.props.maxZoom,this._zoomFactor),this._zoomFactor/n},n.prototype._canDrag=function(){var t;return this.props.draggableUnZoomed||!((t=this._zoomFactor)>.99)||!(t<1.01)},n.prototype._drag=function(t,n){if(n){var e=-(t.y-n.y),o=-(t.x-n.x);this.props.lockDragAxis?m(o)>m(e)?this._addOffset({x:o,y:0}):this._addOffset({y:e,x:0}):this._addOffset({x:o,y:e}),this.props.onDragUpdate()}},n.prototype._virtualDrag=function(t,n){if(n){var e=-(t.y-n.y),o=-(t.x-n.x);this._draggingPoint={x:o+this._draggingPoint.x,y:e+this._draggingPoint.y}}},n.prototype._addOffset=function(t){var n=this._offset,e=n.x,o=n.y;this._offset={x:e+t.x,y:o+t.y}},n.prototype._sanitize=function(){this._zoomFactor<this.props.zoomOutFactor?(this._resetInertia(),this._zoomOutAnimation()):this._isInsaneOffset()&&this._sanitizeOffsetAnimation()},n.prototype._isInsaneOffset=function(){var t=this._offset,n=this._sanitizeOffset(t);return n.x!==t.x||n.y!==t.y},n.prototype._sanitizeOffsetAnimation=function(){var t=this,n=this._sanitizeOffset(this._offset),e=i({},this._offset);this._animate(function(o){var i=e.x+o*(n.x-e.x),a=e.y+o*(n.y-e.y);t._offset={x:i,y:a},t._update()})},n.prototype._zoomOutAnimation=function(){var t=this;if(1!==this._zoomFactor){var n=this._zoomFactor,e=this._getCurrentZoomCenter();this._animate(function(o){t._scaleTo(n+o*(1-n),e)})}},n.prototype._getInitialZoomFactor=function(){return this._initialZoomFactor},n.prototype._getCurrentZoomCenter=function(){var t=this._offset,n=t.x,e=t.y,o=n-this._initialOffset.x,i=e-this._initialOffset.y;return{x:-1*n-o/(1/this._zoomFactor-1),y:-1*e-i/(1/this._zoomFactor-1)}},n.prototype._getOffsetByFirstTouch=function(t){return this._getOffsetTouches(t)[0]},n.prototype._getOffsetTouches=function(t){var n=this.props._document,e=n.documentElement,o=n.body,i=this._getContainerRect(),a=i.top,r=i.left,s=e.scrollTop||o.scrollTop,u=e.scrollLeft||o.scrollLeft,c=a+s,l=r+u;return O(t.touches).map(function(t){return{x:t.x-l,y:t.y-c}})},n.prototype._animate=function(t,n){var e=this,o=new Date().getTime(),a=i({timeFn:C,callback:function(){},duration:this.props.animationDuration},n),r=a.timeFn,s=a.callback,u=a.duration,c=function(){if(e._inAnimation){var n=new Date().getTime()-o,i=n/u;n>=u?(t(1),e._stopAnimation(),s(),e._update()):(t(i=r(i)),e._update({isAnimation:!0}),requestAnimationFrame(c))}};this._inAnimation=!0,requestAnimationFrame(c)},n.prototype._stopAnimation=function(){this._inAnimation=!1},n.prototype._end=function(){this._hasInteraction=!1,this._sanitize(),this._update()},n.prototype._getContainerRect=function(){return this._containerRef.current.getBoundingClientRect()},n.prototype._getChildSize=function(){var t=this._containerRef.current;return Y(null==t?void 0:t.firstElementChild)},n.prototype._updateInitialZoomFactor=function(){var t=this._getContainerRect(),n=this._getChildSize(),e=t.width/n.width,o=t.height/n.height;this._initialZoomFactor=v(e,o)},n.prototype._bindEvents=function(){var t=this,n=this._containerRef.current;window.ResizeObserver?(this._containerObserver=new ResizeObserver(this._onResize),this._containerObserver.observe(n)):window.addEventListener("resize",this._onResize),this._handlers.forEach(function(t){var e=t[0],o=t[1];(t[2]||n).addEventListener(e,o,!0)}),Array.from(n.querySelectorAll("img")).forEach(function(n){return n.addEventListener("load",t._onResize)})},n.prototype._unSubscribe=function(){var t=this,n=this._containerRef.current;this._containerObserver&&(this._containerObserver.disconnect(),this._containerObserver=null),window.removeEventListener("resize",this._onResize),this._handlers.forEach(function(t){var e=t[0],o=t[1];(t[2]||n).removeEventListener(e,o,!0)}),Array.from(n.querySelectorAll("img")).forEach(function(n){return n.removeEventListener("load",t._onResize)})},n.prototype._update=function(t){var n=this;if(!this._updatePlaned){var e=function(){var t=n._getInitialZoomFactor()*n._zoomFactor,e=-n._offset.x/t,o=-n._offset.y/t;n.props.onUpdate({scale:t,x:e,y:o})};if(null==t?void 0:t.isAnimation)return e();this._updatePlaned=!0,requestAnimationFrame(function(){n._updatePlaned=!1,e()})}},n.prototype._handlerIfEnable=function(t){var n=this;return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];n.props.enabled&&t.apply(void 0,e)}},n.prototype._setInteraction=function(t,n){var e=this._interaction;e!==t&&(e&&!t&&(b(e)?this._handleZoomEnd():S(e)&&this._handleDragEnd()),b(t)?this._handleZoomStart():S(t)&&this._handleDragStart(n)),this._interaction=t},n.prototype._distanceBetweenNumbers=function(t,n){return t>n?t-n:n-t},n.prototype._enoughToDrag=function(){return!!(this._distanceBetweenNumbers(this._startOffset.x,this._draggingPoint.x)>5||this._distanceBetweenNumbers(this._startOffset.y,this._draggingPoint.y)>5)},n.prototype._updateInteraction=function(t){var n=this._fingers;return 2===n?this._setInteraction("zoom",t):1===n&&this._canDrag()?this._setInteraction("drag",t):void this._setInteraction(null,t)},n.prototype._detectDoubleTap=function(t){var n=new Date().getTime();this._fingers>1&&(this._lastTouchStart=0),n-this._lastTouchStart<300?(w(t),this._handleDoubleTap(t),b(this._interaction)?this._handleZoomEnd():S(this._interaction)&&this._handleDragEnd()):this._isDoubleTap=!1,1===this._fingers&&(this._lastTouchStart=n)},n.prototype.simulate=function(t){var n=this;return function(e){var o=e.pageX,i=e.pageY,a=e.type,r="mouseup"===a;"mousedown"===a&&(e.preventDefault(),n._listenMouseMove=!0),n._listenMouseMove&&(e.touches=r?[]:[{pageX:o,pageY:i}],t(e)),r&&(n._listenMouseMove=!1)}},n.prototype.componentDidMount=function(){this._bindEvents(),this._update()},n.prototype.componentWillUnmount=function(){this._stopAnimation(),this._unSubscribe()},n.prototype.render=function(){var t=this.props,n=t.children,e=t.containerProps,o=a.Children.only(n),c=e||{};return a.createElement(a.Fragment,null,a.createElement("style",null,u),a.createElement("div",i({},c,{ref:this._containerRef,className:d(r,c.className)}),(0,a.cloneElement)(o,{className:d(s,o.props.className)})))},n.defaultProps={animationDuration:250,draggableUnZoomed:!0,enforceBoundsDuringZoom:!1,centerContained:!1,enabled:!0,inertia:!0,inertiaFriction:.96,horizontalPadding:0,isTouch:l,lockDragAxis:!1,maxZoom:5,minZoom:.5,onDoubleTap:F,onDragEnd:F,onDragStart:F,onDragUpdate:F,onZoomEnd:F,onZoomStart:F,onZoomUpdate:F,setOffsetsOnce:!1,shouldInterceptWheel:D,shouldCancelHandledTouchEndEvents:!1,tapZoomFactor:1,verticalPadding:0,wheelScaleFactor:1500,zoomOutFactor:1.3,doubleTapZoomOutOnMaxScale:!1,doubleTapToggleZoom:!1,_document:g?null:window.document}}(a.Component)},2213:function(t,n,e){e.d(n,{M4:function(){return t_},Uv:function(){return tm},d$:function(){return td}});var o=e(2265),i=function(t,n){return Number(t.toFixed(n))},a=function(t,n,e){e&&"function"==typeof e&&e(t,n)},r={easeOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},s=function(t){"number"==typeof t&&cancelAnimationFrame(t)},u=function(t){t.mounted&&(s(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function c(t,n,e,o){if(t.mounted){var i=new Date().getTime();u(t),t.animation=function(){if(!t.mounted)return s(t.animation);var a=new Date().getTime()-i,u=(0,r[n])(a/e);a>=e?(o(1),t.animation=null):t.animation&&(o(u),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function l(t,n,e,o){var i,a,r,s=(i=n.scale,a=n.positionX,r=n.positionY,!(Number.isNaN(i)||Number.isNaN(a)||Number.isNaN(r)));if(t.mounted&&s){var u=t.setTransformState,l=t.transformState,p=l.scale,f=l.positionX,h=l.positionY,d=n.scale-p,m=n.positionX-f,v=n.positionY-h;0===e?u(n.scale,n.positionX,n.positionY):c(t,o,e,function(t){u(p+d*t,f+m*t,h+v*t)})}}var p=function(t,n,e,o,i,a,r){var s=t>n?e*(r?1:.5):0,u=o>i?a*(r?1:.5):0;return{minPositionX:t-n-s,maxPositionX:s,minPositionY:o-i-u,maxPositionY:u}},f=function(t,n){var e,o,i,a,r,s,u=t.wrapperComponent,c=t.contentComponent,l=t.setup.centerZoomedOut;if(!u||!c)throw Error("Components are not mounted");var f=(e=u.offsetWidth,o=u.offsetHeight,i=c.offsetWidth,a=c.offsetHeight,{wrapperWidth:e,wrapperHeight:o,newContentWidth:r=i*n,newDiffWidth:e-r,newContentHeight:s=a*n,newDiffHeight:o-s}),h=f.wrapperWidth,d=f.wrapperHeight;return p(h,f.newContentWidth,f.newDiffWidth,d,f.newContentHeight,f.newDiffHeight,!!l)},h=function(t,n,e,o){return o?t<n?i(n,2):t>e?i(e,2):i(t,2):i(t,2)},d=function(t,n){var e=f(t,n);return t.bounds=e,e};function m(t,n,e,o,i,a,r){var s=e.minPositionX,u=e.minPositionY,c=e.maxPositionX,l=e.maxPositionY,p=0,f=0;return r&&(p=i,f=a),{x:h(t,s-p,c+p,o),y:h(n,u-f,l+f,o)}}function v(t,n,e,o,i,a){var r=t.transformState,s=r.scale,u=r.positionX,c=r.positionY,l=o-s;return"number"!=typeof n||"number"!=typeof e?(console.error("Mouse X and Y position were not provided!"),{x:u,y:c}):m(u-n*l,c-e*l,i,a,0,0,null)}function _(t,n,e,o,i){var a=n-(i?o:0);return!Number.isNaN(e)&&t>=e?e:!Number.isNaN(n)&&t<=a?a:t}var g=function(t,n){var e=t.setup.panning.excluded,o=t.isInitialized,i=t.wrapperComponent,a=n.target,r="shadowRoot"in a&&"composedPath"in n?n.composedPath().some(function(t){return t instanceof Element&&(null==i?void 0:i.contains(t))}):null==i?void 0:i.contains(a);return!(!(o&&a&&r)||H(a,e))},y=function(t){var n=t.isInitialized,e=t.isPanning,o=t.setup.panning.disabled;return!!n&&!!e&&!o},S=function(t,n){var e=t.transformState,o=e.positionX,i=e.positionY;t.isPanning=!0;var a=n.clientX,r=n.clientY;t.startCoords={x:a-o,y:r-i}},b=function(t,n){var e=n.touches,o=t.transformState,i=o.positionX,a=o.positionY;if(t.isPanning=!0,1===e.length){var r=e[0].clientX,s=e[0].clientY;t.startCoords={x:r-i,y:s-a}}};function w(t,n,e,o,i){var a=t.setup.limitToBounds,r=t.wrapperComponent,s=t.bounds,u=t.transformState,c=u.scale,l=u.positionX,p=u.positionY;if(null!==r&&null!==s&&(n!==l||e!==p)){var f=m(n,e,s,a,o,i,r),h=f.x,d=f.y;t.setTransformState(c,h,d)}}var x=function(t,n,e){var o=t.startCoords,i=t.transformState,a=t.setup.panning,r=a.lockAxisX,s=a.lockAxisY,u=i.positionX,c=i.positionY;if(!o)return{x:u,y:c};var l=n-o.x,p=e-o.y;return{x:r?u:l,y:s?c:p}},T=function(t,n){var e=t.setup,o=t.transformState.scale,i=e.minScale,a=e.disablePadding;return n>0&&o>=i&&!a?n:0},C=function(t){var n=t.mounted,e=t.setup,o=e.disabled,i=e.velocityAnimation,a=t.transformState.scale;return!i.disabled||a>1||!o||!!n},P=function(t){var n=t.mounted,e=t.velocity,o=t.bounds,i=t.setup,a=i.disabled,r=i.velocityAnimation,s=t.transformState.scale;return(!r.disabled||s>1||!a||!!n)&&!!e&&!!o};function O(t,n,e,o,i,a,r,s,u,c){if(i){if(n>r&&e>r){var l=r+(t-r)*c;return l>u?u:l<r?r:l}if(n<a&&e<a){var l=a+(t-a)*c;return l<s?s:l>a?a:l}}return o?n:h(t,a,r,i)}function z(t,n){var e=t.transformState.scale;u(t),d(t,e),void 0!==window.TouchEvent&&n instanceof TouchEvent?b(t,n):S(t,n)}function E(t){var n=t.transformState.scale,e=t.setup,o=e.minScale,i=e.alignmentAnimation,a=i.disabled,r=i.sizeX,s=i.sizeY,u=i.animationTime,c=i.animationType;if(!(a||n<o||!r&&!s)){var p=function(t){var n=t.transformState,e=n.positionX,o=n.positionY,i=n.scale,a=t.setup,r=a.disabled,s=a.limitToBounds,u=a.centerZoomedOut,c=t.wrapperComponent;if(!r&&c&&t.bounds){var l=t.bounds,p=l.maxPositionX,f=l.minPositionX,h=l.maxPositionY,d=l.minPositionY,m=e>p?c.offsetWidth:t.setup.minPositionX||0,_=o>h?c.offsetHeight:t.setup.minPositionY||0,g=v(t,m,_,i,t.bounds,s||u),y=g.x,S=g.y;return{scale:i,positionX:e>p||e<f?y:e,positionY:o>h||o<d?S:o}}}(t);p&&l(t,p,u,c)}}function D(t,n,e){var o=t.startCoords,i=t.setup.alignmentAnimation,a=i.sizeX,r=i.sizeY;if(o){var s=x(t,n,e),u=s.x,c=s.y,l=T(t,a),p=T(t,r);!function(t,n){if(C(t)){var e=t.lastMousePosition,o=t.velocityTime,i=t.setup,a=t.wrapperComponent,r=i.velocityAnimation.equalToMove,s=Date.now();if(e&&o&&a){var u=r?Math.min(1,a.offsetWidth/window.innerWidth):1,c=n.x-e.x,l=n.y-e.y;t.velocity={velocityX:c/u,velocityY:l/u,total:Math.sqrt(c*c+l*l)/(s-o)}}t.lastMousePosition=n,t.velocityTime=s}}(t,{x:u,y:c}),w(t,u,c,l,p)}}function Y(t,n,e,o){var a=t.setup,r=a.minScale,s=a.maxScale,u=a.limitToBounds,c=_(i(n,2),r,s,0,!1),l=d(t,c),p=v(t,e,o,c,l,u);return{scale:c,positionX:p.x,positionY:p.y}}function F(t,n,e){var o=t.transformState.scale,i=t.wrapperComponent,a=t.setup,r=a.minScale,s=a.limitToBounds,u=a.zoomAnimation,c=u.disabled,p=u.animationTime,f=u.animationType,h=c||o>=r;if((o>=1||s)&&E(t),!h&&i&&t.mounted){var d=Y(t,r,n||i.offsetWidth/2,e||i.offsetHeight/2);d&&l(t,d,p,f)}}var I=function(){return(I=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function Z(t,n,e){if(e||2==arguments.length)for(var o,i=0,a=n.length;i<a;i++)!o&&i in n||(o||(o=Array.prototype.slice.call(n,0,i)),o[i]=n[i]);return t.concat(o||Array.prototype.slice.call(n))}var A={scale:1,positionX:0,positionY:0},X={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},k=function(t){var n,e,o,i;return{previousScale:null!==(n=t.initialScale)&&void 0!==n?n:A.scale,scale:null!==(e=t.initialScale)&&void 0!==e?e:A.scale,positionX:null!==(o=t.initialPositionX)&&void 0!==o?o:A.positionX,positionY:null!==(i=t.initialPositionY)&&void 0!==i?i:A.positionY}},N=function(t){var n=I({},X);return Object.keys(t).forEach(function(e){var o=void 0!==t[e];if(void 0!==X[e]&&o){var i=Object.prototype.toString.call(X[e]);"[object Object]"===i?n[e]=I(I({},X[e]),t[e]):"[object Array]"===i?n[e]=Z(Z([],X[e],!0),t[e],!0):n[e]=t[e]}}),n},M=function(t,n,e){var o=t.transformState.scale,a=t.wrapperComponent,r=t.setup,s=r.maxScale,u=r.minScale,c=r.zoomAnimation,l=r.smooth,p=c.size;if(!a)throw Error("Wrapper is not mounted");return _(i(l?o*Math.exp(n*e):o+n*e,3),u,s,p,!1)};function W(t,n,e,o,i){var a=t.wrapperComponent,r=t.transformState,s=r.scale,u=r.positionX,c=r.positionY;if(!a)return console.error("No WrapperComponent found");var p=a.offsetWidth,f=a.offsetHeight,h=M(t,n,e),d=Y(t,h,(p/2-u)/s,(f/2-c)/s);if(!d)return console.error("Error during zoom event. New transformation state was not calculated.");l(t,d,o,i)}function R(t,n,e,o){var i=t.setup,a=t.wrapperComponent,r=i.limitToBounds,s=k(t.props),u=t.transformState,c=u.scale,p=u.positionX,h=u.positionY;if(a){var d=f(t,s.scale),v=m(s.positionX,s.positionY,d,r,0,0,a),_={scale:s.scale,positionX:v.x,positionY:v.y};if(c===s.scale&&p===s.positionX&&h===s.positionY)return;null==o||o(),l(t,_,n,e)}}var B=function(t){return{instance:t,zoomIn:function(n,e,o){void 0===n&&(n=.5),void 0===e&&(e=300),void 0===o&&(o="easeOut"),W(t,1,n,e,o)},zoomOut:function(n,e,o){void 0===n&&(n=.5),void 0===e&&(e=300),void 0===o&&(o="easeOut"),W(t,-1,n,e,o)},setTransform:function(n,e,o,i,a){void 0===i&&(i=300),void 0===a&&(a="easeOut");var r=t.transformState,s=r.positionX,u=r.positionY,c=r.scale,p=t.wrapperComponent,f=t.contentComponent;!t.setup.disabled&&p&&f&&l(t,{positionX:Number.isNaN(n)?s:n,positionY:Number.isNaN(e)?u:e,scale:Number.isNaN(o)?c:o},i,a)},resetTransform:function(n,e){void 0===n&&(n=200),void 0===e&&(e="easeOut"),R(t,n,e)},centerView:function(n,e,o){void 0===e&&(e=200),void 0===o&&(o="easeOut");var i=t.transformState,a=t.wrapperComponent,r=t.contentComponent;a&&r&&l(t,q(n||i.scale,a,r),e,o)},zoomToElement:function(n,e,o,i){void 0===o&&(o=600),void 0===i&&(i="easeOut"),u(t);var a=t.wrapperComponent,r="string"==typeof n?document.getElementById(n):n;if(a&&r&&a.contains(r)){var s=function(t,n,e){var o,i,a,r,s,u=t.wrapperComponent,c=t.contentComponent,l=t.transformState,p=t.setup,h=p.limitToBounds,d=p.minScale,v=p.maxScale;if(!u||!c)return l;var g=u.getBoundingClientRect(),y=n.getBoundingClientRect(),S=(o=n.getBoundingClientRect(),i=u.getBoundingClientRect(),a=c.getBoundingClientRect(),r=i.x*l.scale,s=i.y*l.scale,{x:(o.x-a.x+r)/l.scale,y:(o.y-a.y+s)/l.scale}),b=S.x,w=S.y,x=y.width/l.scale,T=y.height/l.scale,C=u.offsetWidth/x,P=u.offsetHeight/T,O=_(e||Math.min(C,P),d,v,0,!1),z=(g.width-x*O)/2,E=(g.height-T*O)/2,D=m((g.left-b)*O+z,(g.top-w)*O+E,f(t,O),h,0,0,u);return{positionX:D.x,positionY:D.y,scale:O}}(t,r,e);l(t,s,o,i)}}}},L=function(t){var n={};return Object.assign(n,{instance:t,state:t.transformState}),Object.assign(n,B(t)),n};function K(){try{return{get passive(){return!1}}}catch(t){return!1}}var H=function(t,n){return n.some(function(n){return t.matches("".concat(n,", .").concat(n,", ").concat(n," *, .").concat(n," *"))})},j=function(t){t&&clearTimeout(t)},q=function(t,n,e){var o=e.offsetWidth*t,i=e.offsetHeight*t;return{scale:t,positionX:(n.offsetWidth-o)/2,positionY:(n.offsetHeight-i)/2}},U=function(t,n){var e=t.setup.wheel,o=e.disabled,i=e.wheelDisabled,a=e.touchPadDisabled,r=e.excluded,s=t.isInitialized,u=t.isPanning,c=n.target;return!(!(s&&!u&&!o&&c)||i&&!n.ctrlKey||a&&n.ctrlKey||H(c,r))};function Q(t,n,e){var o=n.getBoundingClientRect(),i=0,a=0;if("clientX"in t)i=(t.clientX-o.left)/e,a=(t.clientY-o.top)/e;else{var r=t.touches[0];i=(r.clientX-o.left)/e,a=(r.clientY-o.top)/e}return(Number.isNaN(i)||Number.isNaN(a))&&console.error("No mouse or touch offset found"),{x:i,y:a}}var V=function(t,n,e,o,a){var r=t.transformState.scale,s=t.wrapperComponent,u=t.setup,c=u.maxScale,l=u.minScale,p=u.zoomAnimation,f=u.disablePadding,h=p.size,d=p.disabled;if(!s)throw Error("Wrapper is not mounted");var m=r+n*e;return a?m:_(i(m,3),l,c,h,!o&&!d&&!f)},$=function(t,n){var e=t.previousWheelEvent,o=t.transformState.scale,i=t.setup,a=i.maxScale,r=i.minScale;return!!e&&(o<a||o>r||Math.sign(e.deltaY)!==Math.sign(n.deltaY)||e.deltaY>0&&e.deltaY<n.deltaY||e.deltaY<0&&e.deltaY>n.deltaY||Math.sign(e.deltaY)!==Math.sign(n.deltaY))},G=function(t,n){var e=t.setup.pinch,o=e.disabled,i=e.excluded,a=t.isInitialized,r=n.target;return!(!(a&&!o&&r)||H(r,i))},J=function(t){var n=t.setup.pinch.disabled,e=t.isInitialized,o=t.pinchStartDistance;return!!e&&!n&&!!o},tt=function(t,n,e){var o=e.getBoundingClientRect(),a=t.touches,r=i(a[0].clientX-o.left,5),s=i(a[0].clientY-o.top,5);return{x:(r+i(a[1].clientX-o.left,5))/2/n,y:(s+i(a[1].clientY-o.top,5))/2/n}},tn=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},te=function(t,n){var e=t.pinchStartScale,o=t.pinchStartDistance,a=t.setup,r=a.maxScale,s=a.minScale,u=a.zoomAnimation,c=a.disablePadding,l=u.size,p=u.disabled;if(!e||null===o||!n)throw Error("Pinch touches distance was not provided");return n<0?t.transformState.scale:_(i(n/o*e,2),s,r,l,!p&&!c)},to=function(t,n){var e=t.props,o=e.onWheelStart,i=e.onZoomStart;t.wheelStopEventTimer||(u(t),a(L(t),n,o),a(L(t),n,i))},ti=function(t,n){var e,o=t.props,i=o.onWheel,r=o.onZoom,s=t.contentComponent,u=t.setup,c=t.transformState.scale,l=u.limitToBounds,p=u.centerZoomedOut,f=u.zoomAnimation,h=u.wheel,m=u.disablePadding,_=u.smooth,g=f.size,y=f.disabled,S=h.step,b=h.smoothStep;if(!s)throw Error("Component not mounted");n.preventDefault(),n.stopPropagation();var w=V(t,e=n?n.deltaY<0?1:-1:0,_?b*Math.abs(n.deltaY):S,!n.ctrlKey);if(c!==w){var x=d(t,w),T=Q(n,s,c),C=v(t,T.x,T.y,w,x,l&&(y||0===g||p||m)),P=C.x,O=C.y;t.previousWheelEvent=n,t.setTransformState(w,P,O),a(L(t),n,i),a(L(t),n,r)}},ta=function(t,n){var e=t.props,o=e.onWheelStop,i=e.onZoomStop;j(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(F(t,n.x,n.y),t.wheelAnimationTimer=null)},100),$(t,n)&&(j(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,a(L(t),n,o),a(L(t),n,i))},160))},tr=function(t,n){var e=tn(n);t.pinchStartDistance=e,t.lastDistance=e,t.pinchStartScale=t.transformState.scale,t.isPanning=!1,u(t)},ts=function(t,n){var e=t.contentComponent,o=t.pinchStartDistance,i=t.transformState.scale,a=t.setup,r=a.limitToBounds,s=a.centerZoomedOut,u=a.zoomAnimation,c=u.disabled,l=u.size;if(null!==o&&e){var p=tt(n,i,e);if(Number.isFinite(p.x)&&Number.isFinite(p.y)){var f=tn(n),h=te(t,f);if(h!==i){var m=d(t,h),_=v(t,p.x,p.y,h,m,r&&(c||0===l||s)),g=_.x,y=_.y;t.pinchMidpoint=p,t.lastDistance=f,t.setTransformState(h,g,y)}}}},tu=function(t){var n=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,F(t,null==n?void 0:n.x,null==n?void 0:n.y)},tc=function(t,n){var e=t.props.onZoomStop,o=t.setup.doubleClick.animationTime;j(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,a(L(t),n,e)},o)},tl=function(t,n){var e=t.props,o=e.onZoomStart,i=e.onZoom,r=t.setup.doubleClick,s=r.animationTime,u=r.animationType;a(L(t),n,o),R(t,s,u,function(){return a(L(t),n,i)}),tc(t,n)},tp=function(t,n){var e=t.isInitialized,o=t.setup,i=t.wrapperComponent,a=o.doubleClick,r=a.disabled,s=a.excluded,u=n.target,c=null==i?void 0:i.contains(u);return!(!(e&&u&&c&&!r)||H(u,s))},tf=function(t){var n=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(t){n.props=t,d(n,n.transformState.scale),n.setup=N(t)},this.initializeWindowEvents=function(){var t,e,o=K(),i=null===(t=n.wrapperComponent)||void 0===t?void 0:t.ownerDocument,a=null==i?void 0:i.defaultView;null===(e=n.wrapperComponent)||void 0===e||e.addEventListener("wheel",n.onWheelPanning,o),null==a||a.addEventListener("mousedown",n.onPanningStart,o),null==a||a.addEventListener("mousemove",n.onPanning,o),null==a||a.addEventListener("mouseup",n.onPanningStop,o),null==i||i.addEventListener("mouseleave",n.clearPanning,o),null==a||a.addEventListener("keyup",n.setKeyUnPressed,o),null==a||a.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var t,e,o=K(),i=null===(t=n.wrapperComponent)||void 0===t?void 0:t.ownerDocument,a=null==i?void 0:i.defaultView;null==a||a.removeEventListener("mousedown",n.onPanningStart,o),null==a||a.removeEventListener("mousemove",n.onPanning,o),null==a||a.removeEventListener("mouseup",n.onPanningStop,o),null==i||i.removeEventListener("mouseleave",n.clearPanning,o),null==a||a.removeEventListener("keyup",n.setKeyUnPressed,o),null==a||a.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),u(n),null===(e=n.observer)||void 0===e||e.disconnect()},this.handleInitializeWrapperEvents=function(t){var e=K();t.addEventListener("wheel",n.onWheelZoom,e),t.addEventListener("dblclick",n.onDoubleClick,e),t.addEventListener("touchstart",n.onTouchPanningStart,e),t.addEventListener("touchmove",n.onTouchPanning,e),t.addEventListener("touchend",n.onTouchPanningStop,e)},this.handleInitialize=function(t){var e=n.setup.centerOnInit;n.applyTransformation(),n.onInitCallbacks.forEach(function(t){return t(L(n))}),e&&(n.setCenter(),n.observer=new ResizeObserver(function(){var e,o=t.offsetWidth,i=t.offsetHeight;(o>0||i>0)&&(n.onInitCallbacks.forEach(function(t){return t(L(n))}),n.setCenter(),null===(e=n.observer)||void 0===e||e.disconnect())}),setTimeout(function(){var t;null===(t=n.observer)||void 0===t||t.disconnect()},5e3),n.observer.observe(t))},this.onWheelZoom=function(t){!n.setup.disabled&&U(n,t)&&n.isPressingKeys(n.setup.wheel.activationKeys)&&(to(n,t),ti(n,t),ta(n,t))},this.onWheelPanning=function(t){var e=n.setup,o=e.disabled,i=e.wheel,a=e.panning;if(n.wrapperComponent&&n.contentComponent&&!o&&i.wheelDisabled&&!a.disabled&&a.wheelPanning&&!t.ctrlKey){t.preventDefault(),t.stopPropagation();var r=n.transformState,s=r.positionX,u=r.positionY,c=s-t.deltaX,l=u-t.deltaY,p=a.lockAxisX?s:c,f=a.lockAxisY?u:l,h=n.setup.alignmentAnimation,d=h.sizeX,m=h.sizeY,v=T(n,d),_=T(n,m);(p!==s||f!==u)&&w(n,p,f,v,_)}},this.onPanningStart=function(t){var e=n.setup.disabled,o=n.props.onPanningStart;!e&&g(n,t)&&n.isPressingKeys(n.setup.panning.activationKeys)&&(0!==t.button||n.setup.panning.allowLeftClickPan)&&(1!==t.button||n.setup.panning.allowMiddleClickPan)&&(2!==t.button||n.setup.panning.allowRightClickPan)&&(t.preventDefault(),t.stopPropagation(),u(n),z(n,t),a(L(n),t,o))},this.onPanning=function(t){var e=n.setup.disabled,o=n.props.onPanning;!e&&y(n)&&n.isPressingKeys(n.setup.panning.activationKeys)&&(t.preventDefault(),t.stopPropagation(),D(n,t.clientX,t.clientY),a(L(n),t,o))},this.onPanningStop=function(t){var e=n.props.onPanningStop;n.isPanning&&(function(t){if(t.isPanning){var n=t.setup.panning.velocityDisabled,e=t.velocity,o=t.wrapperComponent,i=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var a=null==o?void 0:o.getBoundingClientRect(),s=null==i?void 0:i.getBoundingClientRect(),u=(null==a?void 0:a.width)||0,l=(null==a?void 0:a.height)||0,p=(null==s?void 0:s.width)||0,f=(null==s?void 0:s.height)||0;!n&&e&&(null==e?void 0:e.total)>.1&&(u<p||l<f)?function(t){var n,e,o,i,a=t.velocity,s=t.bounds,u=t.setup,l=t.wrapperComponent;if(P(t)&&a&&s&&l){var p=a.velocityX,f=a.velocityY,h=a.total,d=s.maxPositionX,m=s.minPositionX,v=s.maxPositionY,_=s.minPositionY,g=u.limitToBounds,y=u.alignmentAnimation,S=u.zoomAnimation,b=u.panning,w=b.lockAxisY,x=b.lockAxisX,C=S.animationType,z=y.sizeX,E=y.sizeY,D=y.velocityAlignmentTime,Y=(e=(n=t.setup.velocityAnimation).equalToMove,o=n.animationTime,i=n.sensitivity,e?o*h*i:o),F=T(t,z),I=T(t,E),Z=F*l.offsetWidth/100,A=I*l.offsetHeight/100,X=d+Z,k=m-Z,N=v+A,M=_-A,W=t.transformState,R=new Date().getTime();c(t,C,Math.max(Y,D),function(n){var e=t.transformState,o=e.scale,i=e.positionX,a=e.positionY,s=new Date().getTime()-R,u=1-(0,r[y.animationType])(Math.min(1,s/D)),c=1-n,l=i+p*c,h=a+f*c,S=O(l,W.positionX,i,x,g,m,d,k,X,u),b=O(h,W.positionY,a,w,g,_,v,M,N,u);(i!==l||a!==h)&&t.setTransformState(o,S,b)})}}(t):E(t)}}(n),a(L(n),t,e))},this.onPinchStart=function(t){var e=n.setup.disabled,o=n.props,i=o.onPinchingStart,r=o.onZoomStart;!e&&G(n,t)&&(tr(n,t),u(n),a(L(n),t,i),a(L(n),t,r))},this.onPinch=function(t){var e=n.setup.disabled,o=n.props,i=o.onPinching,r=o.onZoom;!e&&J(n)&&(t.preventDefault(),t.stopPropagation(),ts(n,t),a(L(n),t,i),a(L(n),t,r))},this.onPinchStop=function(t){var e=n.props,o=e.onPinchingStop,i=e.onZoomStop;n.pinchStartScale&&(tu(n),a(L(n),t,o),a(L(n),t,i))},this.onTouchPanningStart=function(t){var e=n.setup.disabled,o=n.props.onPanningStart;if(!e&&g(n,t)){if(n.lastTouch&&+new Date-n.lastTouch<200&&1===t.touches.length)n.onDoubleClick(t);else{n.lastTouch=+new Date,u(n);var i=t.touches,r=1===i.length,s=2===i.length;r&&(u(n),z(n,t),a(L(n),t,o)),s&&n.onPinchStart(t)}}},this.onTouchPanning=function(t){var e=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&1===t.touches.length){if(e||!y(n))return;t.preventDefault(),t.stopPropagation();var i=t.touches[0];D(n,i.clientX,i.clientY),a(L(n),t,o)}else t.touches.length>1&&n.onPinch(t)},this.onTouchPanningStop=function(t){n.onPanningStop(t),n.onPinchStop(t)},this.onDoubleClick=function(t){!n.setup.disabled&&tp(n,t)&&function(t,n){var e,o=t.setup,i=t.doubleClickStopEventTimer,r=t.transformState,s=t.contentComponent,u=r.scale,c=t.props,p=c.onZoomStart,f=c.onZoom,h=o.doubleClick,d=h.disabled,m=h.mode,v=h.step,_=h.animationTime,g=h.animationType;if(!d&&!i){if("reset"===m)return tl(t,n);if(!s)return console.error("No ContentComponent found");var y=(e=t.transformState.scale,"toggle"===m?1===e?1:-1:"zoomOut"===m?-1:1),S=M(t,y,v);if(u!==S){a(L(t),n,p);var b=Q(n,s,u),w=Y(t,S,b.x,b.y);if(!w)return console.error("Error during zoom event. New transformation state was not calculated.");a(L(t),n,f),l(t,w,_,g),tc(t,n)}}}(n,t)},this.clearPanning=function(t){n.isPanning&&n.onPanningStop(t)},this.setKeyPressed=function(t){n.pressedKeys[t.key]=!0},this.setKeyUnPressed=function(t){n.pressedKeys[t.key]=!1},this.isPressingKeys=function(t){return!t.length||!!t.find(function(t){return n.pressedKeys[t]})},this.setTransformState=function(t,e,o){var i=n.props.onTransformed;if(Number.isNaN(t)||Number.isNaN(e)||Number.isNaN(o))console.error("Detected NaN set state values");else{t!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=t),n.transformState.positionX=e,n.transformState.positionY=o,n.applyTransformation();var r=L(n);n.onChangeCallbacks.forEach(function(t){return t(r)}),a(r,{scale:t,positionX:e,positionY:o},i)}},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var t=q(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(t.scale,t.positionX,t.positionY)}},this.handleTransformStyles=function(t,e,o){return n.props.customTransform?n.props.customTransform(t,e,o):"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(o,")")},this.applyTransformation=function(){if(n.mounted&&n.contentComponent){var t=n.transformState,e=t.scale,o=t.positionX,i=t.positionY,a=n.handleTransformStyles(o,i,e);n.contentComponent.style.transform=a}},this.getContext=function(){return L(n)},this.onChange=function(t){return n.onChangeCallbacks.has(t)||n.onChangeCallbacks.add(t),function(){n.onChangeCallbacks.delete(t)}},this.onInit=function(t){return n.onInitCallbacks.has(t)||n.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},this.init=function(t,e){n.cleanupWindowEvents(),n.wrapperComponent=t,n.contentComponent=e,d(n,n.transformState.scale),n.handleInitializeWrapperEvents(t),n.handleInitialize(e),n.initializeWindowEvents(),n.isInitialized=!0,a(L(n),void 0,n.props.onInit)},this.props=t,this.setup=N(this.props),this.transformState=k(this.props)},th=o.createContext(null),td=o.forwardRef(function(t,n){var e,i,a=(0,o.useRef)(new tf(t)).current,r=(e=t.children,i=B(a),"function"==typeof e?e(i):e);return(0,o.useImperativeHandle)(n,function(){return B(a)},[a]),(0,o.useEffect)(function(){a.update(t)},[a,t]),o.createElement(th.Provider,{value:a},r)});o.forwardRef(function(t,n){var e,i=(0,o.useRef)(null),a=(0,o.useContext)(th);return(0,o.useEffect)(function(){return a.onChange(function(t){i.current&&(i.current.style.transform=a.handleTransformStyles(0,0,1/t.instance.transformState.scale))})},[a]),o.createElement("div",I({},t,{ref:(e=[i,n],function(t){e.forEach(function(n){"function"==typeof n?n(t):null!=n&&(n.current=t)})})}))}),!function(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===e&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var tm=function(t){var n=t.children,e=t.wrapperClass,i=t.contentClass,a=t.wrapperStyle,r=t.contentStyle,s=t.wrapperProps,u=t.contentProps,c=(0,o.useContext)(th),l=c.init,p=c.cleanupWindowEvents,f=(0,o.useRef)(null),h=(0,o.useRef)(null);return(0,o.useEffect)(function(){var t=f.current,n=h.current;return null!==t&&null!==n&&l&&(null==l||l(t,n)),function(){null==p||p()}},[]),o.createElement("div",I({},void 0===s?{}:s,{ref:f,className:"react-transform-wrapper ".concat("transform-component-module_wrapper__SPB86"," ").concat(void 0===e?"":e),style:a}),o.createElement("div",I({},void 0===u?{}:u,{ref:h,className:"react-transform-component ".concat("transform-component-module_content__FBWxo"," ").concat(void 0===i?"":i),style:r}),n))},tv=function(){var t=(0,o.useContext)(th);if(!t)throw Error("Transform context must be placed inside TransformWrapper");return t},t_=function(){return B(tv())}}}]);